(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(t,e,n){t.exports={todolistTask:"TodoListTask_todolistTask__2jqKC"}},18:function(t,e,n){t.exports={todoListMainDiv:"TodoListContainer_todoListMainDiv__1AbD3"}},19:function(t,e,n){t.exports={todoListHeader:"TodoListHeader_todoListHeader__CnFnW",todoListNewTaskForm:"TodoListHeader_todoListNewTaskForm__6jVnL"}},20:function(t,e,n){t.exports={footerButton:"TodoListFooter_footerButton__1jK27",status:"TodoListFooter_status__O5o-w"}},33:function(t,e,n){t.exports={todoListTasks:"TodoListTasks_todoListTasks__3z6Hi"}},43:function(t,e,n){t.exports=n(72)},48:function(t,e,n){},49:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),s=n(12),r=n.n(s),i=(n(48),n(2)),c=n(13),u=n(4),d=n(3),l=n(5),p=(n(49),n(18)),f=n.n(p),T=n(19),k=n.n(T),E=n(40),h=n(14),S=n(7),g=n(10),m=function(t){return g.get("https://repetitora.net/api/JS/Tasks?widgetId=".concat(t))},b=function(t,e){return g.post("https://repetitora.net/api/JS/Tasks?widgetId=".concat(t),{title:e})},C=function(t,e,n){return g.put("https://repetitora.net/api/JS/Tasks?widgetId=".concat(t),{taskId:e,done:n})},v=function(t,e,n){return g.put("https://repetitora.net/api/JS/Tasks?widgetId=".concat(t),{taskId:e,title:n})},O=function(t,e){return g.delete("https://repetitora.net/api/JS/Tasks?widgetId=".concat(t,"&taskId=").concat(e))},j={SUCCESS:"success",NONE:"none",ERROR:"error",REQUEST:"request"},_={tasks:[],status:j.NONE,filter:"All"},A=function(t,e,n){return Object(S.a)({},t,{tasks:t.tasks.map(function(t){return t.id===e.id?Object(S.a)({},t,Object(h.a)({},n,e[n])):t})})},w=function(t){return{type:"CHANGE_STATUS",status:t}},y=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(u.a)(this,Object(d.a)(e).call(this,t))).render=function(){return o.a.createElement("div",{className:k.a.todoListHeader},o.a.createElement("h3",null,"My tasks"),o.a.createElement("div",{className:k.a.todoListNewTaskForm},o.a.createElement("input",{type:"text",value:n.state.title,ref:n.newTaskInputRef,maxLength:"20",placeholder:"New task name",onChange:n.onTitleChange}),o.a.createElement("button",{disabled:n.props.status===j.REQUEST,onClick:n.onAddTask},"Add")))},n.state={title:""},n.onTitleChange=function(t){n.setState({title:t.currentTarget.value})},n.onAddTask=function(){n.state.title.length>0?(n.props.addTask(n.state.title),n.props.status===j.SUCCESS&&n.setState({title:""})):(n.props.changeStatus("error"),alert("please enter note"))},n}return Object(l.a)(e,t),e}(o.a.Component),I=n(33),N=n.n(I),L=n(16),R=n.n(L),U=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).state={editMode:!1,title:n.props.title},n.titleInputRef=o.a.createRef(),n.onSaveClick=function(){n.setState({editMode:!1}),n.props.title!==n.state.title&&n.props.changeTitle(n.props.taskId,n.state.title)},n.onEditClick=function(){n.setState({editMode:!0})},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.render=function(){return o.a.createElement("div",{className:R.a.todolistTask},o.a.createElement("div",{className:R.a.dataTask},o.a.createElement("input",{type:"checkbox",checked:n.props.done,onChange:function(t){n.props.updateTaskStatus(n.props.taskId,t.currentTarget.checked)}}),n.state.editMode?o.a.createElement("input",{value:n.state.title,autoFocus:!0,onChange:n.onTitleChanged,ref:n.titleInputRef}):o.a.createElement("span",null,n.props.title)),o.a.createElement("div",{className:R.a.buttonTask},n.state.editMode&&o.a.createElement("button",{onClick:n.onSaveClick},"save"),!n.state.editMode&&o.a.createElement("button",{onClick:n.onEditClick},"edit"),o.a.createElement("button",{onClick:function(){n.props.deleteTask(n.props.taskId)}},"x")))},n}return Object(l.a)(e,t),e}(o.a.Component),x=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).render=function(){var t=n.props,e=t.tasks,a=t.updateTaskStatus,s=t.deleteTask,r=t.changeTitle,i=e.map(function(t,e){return o.a.createElement(U,{key:e,title:t.title,done:t.done,priority:t.priority,taskId:t.id,updateTaskStatus:a,deleteTask:s,changeTitle:r})});return o.a.createElement("div",{className:N.a.todoListTasks},i)},n}return Object(l.a)(e,t),e}(o.a.Component),F=n(20),H=n.n(F),D=n(34);function K(){var t=Object(D.a)(["\n\nborder: solid 1px black;\npadding: 2px;\ntext-align: center;\nbackground-color:  ","\ncolor:  ","\ncursor: ","\nwidth: 90px;\n\n&:hover{\n    background-color: ","\n}\n\n"]);return K=function(){return t},t}var M=n(35).a.div(K(),function(t){return t.selected?"green":"grey"},function(t){return t.selected?"white":"black"},function(t){return t.selected?"default":"pointer"},function(t){return t.selected?"green":"#035603"}),B=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).state={selectedButton:"1",filterTypes:["All","Completed","Active"]},n.onButtonFilterClick=function(t,e){n.props.changeFilter(t),n.setState({selectedButton:e.currentTarget.id})},n.render=function(){for(var t=[],e=function(e){t.push(o.a.createElement(M,{id:e,key:e,selected:e===n.state.selectedButton,onClick:function(t){n.onButtonFilterClick(n.state.filterTypes[e-1],t)}}," ",n.state.filterTypes[e-1]," "))},a=1;a<4;a++)e(a);return o.a.createElement("div",null,o.a.createElement("div",{className:H.a.footerButton},t),o.a.createElement("div",{className:H.a.status},o.a.createElement("span",null,"Status: "),n.props.status===j.REQUEST&&o.a.createElement("img",{src:"https://loading.io/spinners/rolling/lg.curve-bars-loading-indicator.gif",alt:"request"}),n.props.status===j.SUCCESS&&o.a.createElement("img",{src:"https://png.pngtree.com/svg/20170519/77b65bfe9d.png",alt:"success"}),n.props.status===j.ERROR&&o.a.createElement("img",{src:"https://cdn2.iconfinder.com/data/icons/weby-flat-vol-1/512/1_warning-caution-exclamation-alert-attention-error-rounded-red-512.png",alt:"error"}),n.props.status===j.NONE&&o.a.createElement("img",{src:"https://png.pngtree.com/svg/20170728/8580e4d19d.png",alt:"none"})))},n}return Object(l.a)(e,t),e}(o.a.Component),G=n(15),Q=function(t){switch(t.todo.filter){case"All":return t.todo.tasks;case"Completed":return t.todo.tasks.filter(function(t){return!0===t.done});case"Active":return t.todo.tasks.filter(function(t){return!1===t.done});default:return t.todo.tasks}},J=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(u.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(s)))).widgetId=1234,n.addTask=function(t){n.props.addTask(n.widgetId,t)},n.onTaskStatusChanged=function(t,e){n.props.updateTaskStatus(n.widgetId,t,e)},n.onTaskTitleChanged=function(t,e){n.props.updateTaskTitle(n.widgetId,t,e)},n.onTaskDeleted=function(t){n.props.deleteTask(n.widgetId,t)},n.render=function(){return o.a.createElement("div",{className:f.a.myTodoApp},o.a.createElement("div",{className:f.a.todoListMainDiv},o.a.createElement(y,{addTask:n.addTask,changeStatus:n.props.changeStatus,status:n.props.status}),o.a.createElement(x,{tasks:n.props.tasks,updateTaskStatus:n.onTaskStatusChanged,deleteTask:n.onTaskDeleted,changeTitle:n.onTaskTitleChanged}),o.a.createElement(B,{changeFilter:n.props.changeFilter,status:n.props.status})))},n}return Object(l.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTasks(this.widgetId)}}]),e}(o.a.Component),q=Object(G.b)(function(t){return{tasks:Q(t),status:t.todo.status}},function(t){return{fetchTasks:function(e){t(function(t){return function(e){e(w(j.REQUEST)),m(t).then(function(t){e(w(j.SUCCESS)),e({type:"SET_TASKS",tasks:t.data})})}}(e))},updateTaskStatus:function(e,n,a){t(function(t,e,n){return function(a){a(w(j.REQUEST)),C(t,e,n).then(function(t){a(w(j.SUCCESS)),a({type:"CHANGE_TASK_STATUS",done:n,id:e})})}}(e,n,a))},updateTaskTitle:function(e,n,a){t(function(t,e,n){return function(a){a(w(j.REQUEST)),v(t,e,n).then(function(t){a(w(j.SUCCESS)),a(function(t,e){return{type:"CHANGE_TASK_TITLE",title:e,id:t}}(e,n))})}}(e,n,a))},addTask:function(e,n){t(function(t,e){return function(n){n(w(j.REQUEST)),b(t,e).then(function(t){n(w(j.SUCCESS)),n({type:"ADD_TASK",task:t.data.task})})}}(e,n))},deleteTask:function(e,n){t(function(t,e){return function(n){n(w(j.REQUEST)),O(t,e).then(function(t){return n(w(j.SUCCESS))},n(function(t){return{type:"DELETE_TASK",taskId:t}}(e)))}}(e,n))},changeFilter:function(e){t(function(t){return{type:"CHANGE_FILTER",value:t}}(e))},changeStatus:function(e){t(w(e))}}})(J),W=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement(q,null)}}]),e}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(9),P=n(39),V=Object(z.c)({todo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TASKS":return Object(S.a)({},t,{tasks:e.tasks});case"CHANGE_STATUS":return Object(S.a)({},t,{status:e.status});case"ADD_TASK":return Object(S.a)({},t,{tasks:[].concat(Object(E.a)(t.tasks),[e.task])});case"DELETE_TASK":return Object(S.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})});case"CHANGE_TASK_STATUS":return A(t,e,"done");case"CHANGE_TASK_TITLE":return A(t,e,"title");case"CHANGE_TASK_DESCRIPTION":return A(t,e,"description");case"CHANGE_FILTER":return Object(S.a)({},t,{filter:e.value});default:return t}}}),$=Object(z.d)(V,Object(z.a)(P.a));r.a.render(o.a.createElement(G.a,{store:$},o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.f1c8cc6f.chunk.js.map